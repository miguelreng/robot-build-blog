---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const builders = [
	{ name: "Lorena Cardona", role: "Data Engineer" },
	{ name: "Jonathan Deiloff", role: "Data Engineer" },
	{ name: "David Cardozo", role: "Data Advisor" },
	{ name: "Kevin Torres", role: "Data Analyst" }
];

const discussions = [
	{ topic: "On-device training latency", tag: "Performance" },
	{ topic: "Arlington sidewalk edge cases", tag: "Computer Vision" },
	{ topic: "Battery thermal management", tag: "Hardware" }
];

const aiDirectory = [
	{ tool: "PyTorch", category: "Framework" },
	{ tool: "OpenCV", category: "Vision" },
	{ tool: "ROS2", category: "Middleware" },
	{ tool: "UNet", category: "Model Architectures" }
];
---

<Layout title="Home">
	<div class="space-y-24">
		{/* CEO Note */}
		<section class="mb-24">
			<div class="text-[#403F3C]/60 text-[18px] leading-relaxed italic mb-10 font-medium max-w-lg">
				"Building general-purpose robots requires more than just code; it requires a commitment to raw, fast, and transparent iteration. This blog is our window into that process."
			</div>
			<div class="flex flex-col gap-2">
				<div class="text-[16px] font-bold text-[#403F3C]">Felipe Ch√°vez</div>
				<div class="text-[14px] text-[#403F3C]/40 font-bold">CEO at Robot.com</div>
				<div class="h-12 w-40 mt-4 opacity-50 border-b border-[#403F3C]/10 flex items-end pb-2 text-[12px] text-[#403F3C]/20 uppercase tracking-[0.2em]">
					Waiting for signature...
				</div>
			</div>
		</section>

		<div class="space-y-20">
			{/* Memos Section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">Memos</h2>
				<ul class="space-y-6 pt-4">
					{posts.map((post) => (
						<li class="w-full">
							<a href={`/posts/${post.slug}`} class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{post.data.title}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{post.data.pubDate.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit' })}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* Builders Section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">Builders</h2>
				<ul class="space-y-6 pt-4">
					{builders.map((builder) => (
						<li class="w-full">
							<a href="/builders" class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{builder.name}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{builder.role}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* Discussion Section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">Discussion</h2>
				<ul class="space-y-6 pt-4">
					{discussions.map((item) => (
						<li class="w-full">
							<a href="#" class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{item.topic}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{item.tag}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* AI Directory Section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">AI Directory</h2>
				<ul class="space-y-6 pt-4">
					{aiDirectory.map((item) => (
						<li class="flex items-baseline justify-between w-full group cursor-pointer">
							<span class="text-[16px] font-medium text-[#403F3C] opacity-60 group-hover:opacity-100 group-hover:underline decoration-1 underline-offset-4 transition-all">{item.tool}</span>
							<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
							<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{item.category}</span>
						</li>
					))}
				</ul>
			</section>
		</div>
	</div>
</Layout>
