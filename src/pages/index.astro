---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Layout title="Engineering Memos">
	<div class="space-y-20">
		{posts.map((post) => (
			<article>
				<div class="text-[10px] uppercase tracking-[0.2em] text-zinc-400 mb-6 font-medium">
					{post.data.pubDate.toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' })}
				</div>
				<h2 class="text-2xl font-medium tracking-tight mb-4 leading-tight">
					<a href={`/posts/${post.slug}`} class="hover:text-zinc-500 transition-colors">
						{post.data.title}
					</a>
				</h2>
				<p class="text-zinc-500 text-base leading-relaxed mb-6 font-normal">
					{post.data.description}
				</p>
				<a href={`/posts/${post.slug}`} class="text-[10px] uppercase tracking-[0.2em] font-bold border-b border-black pb-0.5">
					Read Memo
				</a>
			</article>
		))}
	</div>
</Layout>
