---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const builders = [
	{ name: "lorena cardona", role: "data engineer" },
	{ name: "jonathan deiloff", role: "data engineer" },
	{ name: "david cardozo", role: "data advisor" },
	{ name: "kevin torres", role: "data analyst" }
];

const discussions = [
	{ topic: "on-device training latency", tag: "performance" },
	{ topic: "arlington sidewalk edge cases", tag: "computer vision" },
	{ topic: "battery thermal management", tag: "hardware" }
];

const aiDirectory = [
	{ tool: "pytorch", category: "framework" },
	{ tool: "opencv", category: "vision" },
	{ tool: "ros2", category: "middleware" },
	{ tool: "unet", category: "model architectures" }
];
---

<Layout title="home">
	<div class="space-y-24">
		{/* ceo note */}
		<section class="mb-24">
			<div class="text-[#403F3C]/60 text-[18px] leading-relaxed italic mb-10 font-medium max-w-lg">
				"building general-purpose robots requires more than just code; it requires a commitment to raw, fast, and transparent iteration. this blog is our window into that process."
			</div>
			<div class="flex flex-col gap-2">
				<div class="text-[16px] font-bold text-[#403F3C]">felipe ch√°ves</div>
				<div class="text-[14px] text-[#403F3C]/40 font-bold">ceo at robot.com</div>
				<div class="h-12 w-40 mt-4 opacity-50 border-b border-[#403F3C]/10 flex items-end pb-2 text-[12px] text-[#403F3C]/20 uppercase tracking-[0.2em]">
					waiting for signature...
				</div>
			</div>
		</section>

		<div class="space-y-20">
			{/* memos section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">memos</h2>
				<ul class="space-y-6 pt-4">
					{posts.map((post) => (
						<li class="w-full">
							<a href={`/posts/${post.slug}`} class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{post.data.title}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{post.data.pubDate.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit' })}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* builders section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">builders</h2>
				<ul class="space-y-6 pt-4">
					{builders.map((builder) => (
						<li class="w-full">
							<a href="/builders" class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{builder.name}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{builder.role}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* discussion section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">discussion</h2>
				<ul class="space-y-6 pt-4">
					{discussions.map((item) => (
						<li class="w-full">
							<a href="#" class="flex items-baseline justify-between w-full group">
								<span class="text-[16px] font-medium text-[#403F3C] group-hover:underline decoration-1 underline-offset-4">{item.topic}</span>
								<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
								<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{item.tag}</span>
							</a>
						</li>
					))}
				</ul>
			</section>

			{/* ai directory section */}
			<section>
				<h2 class="text-[14px] text-[#403F3C]/40 mb-6 font-medium border-b border-[#403F3C]/5 pb-6">ai directory</h2>
				<ul class="space-y-6 pt-4">
					{aiDirectory.map((item) => (
						<li class="flex items-baseline justify-between w-full group cursor-pointer">
							<span class="text-[16px] font-medium text-[#403F3C] opacity-60 group-hover:opacity-100 group-hover:underline decoration-1 underline-offset-4 transition-all">{item.tool}</span>
							<div class="flex-grow mx-4 border-b border-[#a2a19e]/30"></div>
							<span class="text-[14px] text-[#403F3C] font-medium whitespace-nowrap">{item.category}</span>
						</li>
					))}
				</ul>
			</section>
		</div>
	</div>
</Layout>
