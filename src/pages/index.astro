---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const builders = ["Lorena Cardona", "Jonathan Deiloff", "David Cardozo", "Kevin Torres"];
const discussions = ["On-device training latency", "Arlington sidewalk edge cases", "Battery thermal management"];
const techStack = ["PyTorch", "OpenCV", "ROS2", "UNet", "YOLOv8"];
---

<Layout title="Home">
	<div class="space-y-16">
		{/* Memos Section */}
		<section>
			<h2 class="text-[10px] uppercase tracking-[0.2em] text-[#403F3C]/40 mb-6 font-bold">Memos</h2>
			<ul class="space-y-3">
				{posts.map((post) => (
					<li>
						<a href={`/posts/${post.slug}`} class="text-[15px] font-medium text-[#403F3C] hover:underline decoration-1 underline-offset-4">
							{post.data.title}
						</a>
						<span class="text-[12px] text-[#403F3C]/40 ml-2">â€” {post.data.pubDate.toLocaleDateString('en-US', { month: '2-digit', day: '2-digit' })}</span>
					</li>
				))}
			</ul>
		</section>

		{/* Builders Section */}
		<section>
			<h2 class="text-[10px] uppercase tracking-[0.2em] text-[#403F3C]/40 mb-6 font-bold">Builders</h2>
			<ul class="space-y-3">
				{builders.map((builder) => (
					<li>
						<a href="/builders" class="text-[15px] font-medium text-[#403F3C] hover:underline decoration-1 underline-offset-4">
							{builder}
						</a>
					</li>
				))}
			</ul>
		</section>

		{/* Discussion Section */}
		<section>
			<h2 class="text-[10px] uppercase tracking-[0.2em] text-[#403F3C]/40 mb-6 font-bold">Discussion</h2>
			<ul class="space-y-3">
				{discussions.map((topic) => (
					<li>
						<a href="#" class="text-[15px] font-medium text-[#403F3C] hover:underline decoration-1 underline-offset-4">
							{topic}
						</a>
					</li>
				))}
			</ul>
		</section>

		{/* Product/Tech Section */}
		<section>
			<h2 class="text-[10px] uppercase tracking-[0.2em] text-[#403F3C]/40 mb-6 font-bold">Tech Stack</h2>
			<ul class="space-y-3">
				{techStack.map((item) => (
					<li>
						<span class="text-[15px] font-medium text-[#403F3C] hover:underline decoration-1 underline-offset-4 cursor-default">
							{item}
						</span>
					</li>
				))}
			</ul>
		</section>
	</div>
</Layout>
