---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Layout title="CEO & Builders">
	<div class="space-y-24">
		{posts.map((post) => (
			<article class="group">
				<div class="text-[14px] text-[#403F3C]/60 mb-6 font-bold tracking-tight">
					{post.data.author} â€” {post.data.pubDate.toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' })}
				</div>
				<h2 class="text-3xl font-medium tracking-tighter mb-5 leading-[1.1] text-[#403F3C]">
					<a href={`/posts/${post.slug}`} class="group-hover:opacity-60 transition-opacity">
						{post.data.title}
					</a>
				</h2>
				<p class="text-[#6a6a6a] text-[15px] leading-relaxed mb-8 font-medium max-w-lg">
					{post.data.description}
				</p>
				<a href={`/posts/${post.slug}`} class="text-[12px] font-bold border-b border-[#403F3C]/20 pb-1 hover:border-[#403F3C] transition-colors uppercase tracking-widest">
					Read Memo
				</a>
			</article>
		))}
	</div>
</Layout>
