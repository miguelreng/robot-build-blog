---
import Layout from '../../layouts/Layout.astro';
import { getEntry, render } from 'astro:content';

const entry = await getEntry('posts', 'visual-navigation-v05');

if (!entry) {
  return Astro.redirect('/404');
}

const { Content } = await render(entry);
const { title, pubDate, author } = entry.data;

// Parseamos metadata para el nuevo layout
const quarter = "2026-Q1"; // Esto lo sacaremos del frontmatter en el futuro
---

<Layout 
	title={title} 
	published={pubDate.toLocaleDateString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' })}
	builder={author}
	quarter={quarter}
>
  <nav class="flex items-center gap-2 mb-12 text-[11px] font-bold uppercase tracking-[0.2em] text-[#403F3C]/30">
    <a href="/" class="hover:text-[#403F3C] transition-colors">Home</a>
    <span>/</span>
    <a href="/" class="hover:text-[#403F3C] transition-colors">Memos</a>
    <span>/</span>
    <span class="text-[#403F3C]/10 truncate max-w-[200px]">{title}</span>
  </nav>

  <div class="mb-12">
    <h1 class="text-3xl font-medium tracking-tighter mb-8 leading-[1.1] text-[#403F3C]">
      {title}
    </h1>
  </div>

  <div class="prose prose-zinc prose-lg max-w-none 
    prose-headings:font-medium prose-headings:tracking-tighter
    prose-p:text-[#403F3C]/60 prose-p:leading-relaxed
    prose-blockquote:border-l prose-blockquote:border-[#403F3C]/10 prose-blockquote:text-[#403F3C]/40
    prose-img:rounded-sm">
    <Content />
  </div>
</Layout>
