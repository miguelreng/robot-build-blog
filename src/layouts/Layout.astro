---
const { title, builder, published, quarter } = Astro.props;
const isPublish = Astro.url.pathname === '/publish';
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>{title} | CEO & Builders</title>
		<meta name="description" content="Engineering memos and technical progress from the builders at Robot.com." />
		<style is:global>
			@font-face {
				font-family: 'Yellix';
				src: url('/fonts/Yellix-Medium.woff2') format('woff2');
				font-weight: 500;
				font-style: normal;
				font-display: swap;
			}
			body {
				font-family: 'Yellix', system-ui, sans-serif;
				background-color: #F8F6F3;
				color: #403F3C;
				-webkit-font-smoothing: antialiased;
				font-feature-settings: "ss01" on;
				margin: 0;
				padding: 0;
			}
			h1, h2, h3, h4 {
				font-weight: 500;
				font-feature-settings: "ss01" on;
			}
		</style>
	</head>
	<body class="selection:bg-[#403F3C] selection:text-[#F8F6F3]">
		<main class={`${isPublish ? 'max-w-none w-[95vw]' : 'max-w-[580px]'} mx-auto px-6 py-20 md:py-32 flex flex-col items-center`}>
			<div class="w-full max-w-full flex flex-col">
				<header class="mb-24 flex flex-col gap-8 w-full">
					<div class="flex justify-between items-center w-full">
						<a href="/" class="flex items-center gap-3">
							<img src="/logo-robot.svg" alt="Robot.com" class="h-5 w-auto" />
							<span class="text-[13px] uppercase tracking-[0.25em] text-[#403F3C]/40 font-bold border-l border-[#403F3C]/10 pl-3">
								CEO & Builders
							</span>
						</a>
					</div>
					<nav class="flex gap-6 text-[13px] text-[#403F3C]/60 font-medium">
						<a href="/" class="hover:text-[#403F3C] transition-colors">Home</a>
						<a href="/builders" class="hover:text-[#403F3C] transition-colors">Builders</a>
						<a href="/discussion" class="hover:text-[#403F3C] transition-colors">Discussion</a>
						<a href="/ai-directory" class="hover:text-[#403F3C] transition-colors">AI Directory</a>
					</nav>
				</header>

				{published && (
					<div class="grid grid-cols-3 gap-4 mb-20 border-y border-[#403F3C]/5 py-8 w-full">
						<div class="flex flex-col gap-1">
							<div class="text-[12px] text-[#403F3C]/40 font-medium">Published</div>
							<div class="text-[14px] font-medium tracking-tight text-[#403F3C]">{published}</div>
						</div>
						<div class="flex flex-col gap-1">
							<div class="text-[12px] text-[#403F3C]/40 font-medium">Builder</div>
							<div class="text-[14px] font-medium tracking-tight text-[#403F3C]">{builder}</div>
						</div>
						<div class="flex flex-col gap-1">
							<div class="text-[12px] text-[#403F3C]/40 font-medium">Quarter</div>
							<div class="text-[14px] font-medium tracking-tight text-[#403F3C]">{quarter}</div>
						</div>
					</div>
				)}

				<div class="w-full">
					<slot />
				</div>
				
				<footer class="mt-40 pt-12 border-t border-[#403F3C]/5 flex flex-col gap-8 w-full">
					<img src="/logo-robot.svg" alt="Robot.com" class="h-3 w-auto opacity-20" />
					<div class="text-[10px] uppercase tracking-[0.25em] text-[#403F3C]/30 font-bold">
						Â© {new Date().getFullYear()} Robot.com Foundation
					</div>
				</footer>
			</div>
		</main>
	</body>
</html>
